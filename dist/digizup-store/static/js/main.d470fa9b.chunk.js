(this["webpackJsonpdigizup-store"]=this["webpackJsonpdigizup-store"]||[]).push([[0],{1619:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(64),l=a.n(r),s=(a(328),a(10)),o=a(17),i=a(14),d=a.n(i),m=a(23),u=a(5),E=a(9),f=a(12),p=a(13),v=a(138),b=a.n(v);a(481),a(482),a(484);b.a.initializeApp({apiKey:"AIzaSyBHW5GkbAYKKiS-0O7V9yE6I_rhqdm5dmI",authDomain:"digizup-store-test1.firebaseapp.com",databaseURL:"https://digizup-store-test1.firebaseio.com",projectId:"digizup-store-test1",storageBucket:"digizup-store-test1.appspot.com",messagingSenderId:"629806898681",appId:"1:629806898681:web:405b49966fdd13c86b7128",measurementId:"G-DCTWT63X8B"});var N=b.a.firestore(),h=b.a,g=(a(29),a(7)),O=function(e){var t,a=(t=e,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t)),n=a[0],r=a.split(".")[0].slice(1),l=a.split(".")[1];return c.a.createElement("span",{className:"product-price"},n+" "+r+".",c.a.createElement("sub",null,l))};var y=Object(f.d)(o.g)((function(e){var t=e.product,a=t.productName,n=t.defaultImage,r=t.price,l=t.productid,o=t.productOption;return c.a.createElement("div",{className:"CatProductCard"},c.a.createElement(g.Card,{className:"round-card",closeIcon:c.a.createElement(g.Icon,null,"close"),header:c.a.createElement(g.CardTitle,{image:n,className:"card-title-img",reveal:!0,waves:"light"}),revealIcon:c.a.createElement(g.Icon,null,"more_vert")},c.a.createElement("div",{className:"card-content-area"},c.a.createElement(s.b,{to:"/product/"+l+(o?"?productOption="+o:"")},c.a.createElement("p",{className:"text-link"},a)),c.a.createElement("p",{className:"right-align heavy_text"},O(r)))))})),j=a(1631),C=a(136),w=a.n(C),S=(a(275),a(276),a(277),a(308)),x=a(309),k=a(322),_=a(321),A=a(81),F=a.n(A);var T=function(){return c.a.createElement("div",{className:"Loading Page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m8 l6 offset-m2 offset-l3"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"logo-container"},c.a.createElement("img",{src:F.a,alt:""})),c.a.createElement("h4",{className:"center"},"Loading....")))))))},I=function(e){Object(k.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).state={hidden:!0},n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({hidden:!1})}),this.props.waitBeforeShow)}},{key:"render",value:function(){return this.state.hidden?c.a.createElement(T,null):this.props.children}}]),a}(c.a.Component);var P=function(){return c.a.createElement("div",{className:"LoadingFullScreen"},c.a.createElement("div",{className:"logo-container"},c.a.createElement("img",{src:F.a})),c.a.createElement("h5",{className:"heavy_text center"},"Welcome to "),c.a.createElement("h4",{className:"heavy_text center"},"Digizup Store"))};var M=function(e){var t=e.children;return c.a.createElement("div",{className:"Info Card"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m8 l6 offset-m2 offset-l3"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},t)))))};var R=Object(f.d)(Object(E.b)((function(e){return{}}),null),Object(p.firestoreConnect)([{collection:"categories"}]),o.g)((function(e){var t,a=null!==(t=e.match.params.category)&&void 0!==t?t:"all",r=Object(E.c)((function(e){return e.firestore.ordered.categories})),l=Object(n.useState)(null),o=Object(u.a)(l,2),i=o[0],f=o[1],v=Object(n.useState)(null!==null?null:[]),b=Object(u.a)(v,2),h=b[0],g=b[1];Object(n.useEffect)((function(){r&&(f(r.find((function(e){return a==e.title||a==e.urlid}))),g([]))}),[a]),Object(n.useEffect)((function(){r&&f(r.find((function(e){return a==e.title||a==e.urlid})))}),[r]),Object(n.useEffect)((function(){a&&i&&r&&O()}),[i]);var O=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[a,null===i||void 0===i?void 0:i.title],e.next=3,N.collection("products").where("categories","array-contains-any",t).get();case 3:if(!(n=e.sent).empty){e.next=7;break}return console.log("empty"),e.abrupt("return");case 7:c=[],n.forEach((function(e,t){if(!(t>=20)){var a=e.data(),n={};if(1==a.hasOptions){var r=Object.keys(a.productOptions).sort().filter((function(e){return a.productOptions[e].isActive})),l=r[Math.floor(Math.random()*r.length)];n={productName:a.productOptions[l].productFullName,defaultImage:a.productOptions[l].images[0],price:a.productOptions[l].price,productid:e.id,productOption:l,hasOptions:!0}}else n={productName:a.productName,defaultImage:a.images[0],price:a.price,productid:e.id,productOption:!1,hasOptions:!1};c.push(n)}})),g(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=i&&(null===i||void 0===i?void 0:i.banner)&&i.banner.length>0?c.a.createElement("div",{className:"banner-carousel"},c.a.createElement(w.a,{options:{items:1,nav:!1,dots:!1,dotsEach:!1,rewind:!0,autoplay:!0,loop:!0},events:{}},i.banner.map((function(e,t){return c.a.createElement("div",{key:Object(j.a)()},c.a.createElement("img",{src:e.image}))})))):null,S=i&&h?c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:i.banner&&i.banner.length>0?"categoriesProductsSection flyover-banner":"categoriesProductsSection"},c.a.createElement("div",{className:"row"},h.map((function(e){return c.a.createElement("div",{key:Object(j.a)(),className:"col s6 m4 l3"},c.a.createElement(y,{product:e}))}))))):null,x=Object(p.isLoaded)(r)?c.a.createElement(n.Fragment,null,i?c.a.createElement(n.Fragment,null,C,S):c.a.createElement(I,{waitBeforeShow:1e3},c.a.createElement(M,null,c.a.createElement("h6",{className:"center"},"Sorry this category doesnot exist"),c.a.createElement("div",{className:"center"},c.a.createElement(s.b,{to:"/store"}," ",c.a.createElement("div",{className:"btn dark_btn"},"Visit Store")," "))))):c.a.createElement(P,null);return c.a.createElement("div",{className:"Category Page"},x)}));var D=function(e){return c.a.createElement(R,null)};var L=function(){return c.a.createElement("div",null,"about")},U=a(8);var H=Object(E.b)((function(e){return{cartUpdate:e.cartUpdate}}),null)((function(e){var t=null===e||void 0===e?void 0:e.cartItem,a=t.productName,r=t.productPrice,l=t.defaultImage,s=t.cartQty,i=t.productid,d=t.option,m=t.id,E=Object(n.useState)(s),f=Object(u.a)(E,2),p=f[0],v=f[1],b=null===e||void 0===e?void 0:e.cartFunc,N=b.updateCart,h=b.removeFromCart,y=null===e||void 0===e?void 0:e.cartUpdate,j=y.cartMessage;y.cartCount,Object(n.useEffect)((function(){p<=0&&v(1),"CART_UPDATING"!=j&&p!=s&&setTimeout((function(){N(m,p)}),3e3)}),[p]);var C=Object(o.f)(),w=function(){var e="/product/".concat(i)+(d?"?productOption=".concat(d):"");C.push(e)};return c.a.createElement("div",{className:"CartCard"},c.a.createElement(g.Card,{closeIcon:c.a.createElement(g.Icon,null,"close"),header:c.a.createElement(g.CardTitle,{onClick:w,image:l}),horizontal:!0,revealIcon:c.a.createElement(g.Icon,null,"more_vert")},c.a.createElement("div",{className:"card-info"},c.a.createElement("p",{onClick:w},a),c.a.createElement("p",{className:"flow-text regular_text primary-green-dark-text right-align"},O(r))),c.a.createElement("div",{className:"cart-management"},c.a.createElement("div",{className:"quantity-selection-container"},c.a.createElement("div",{onClick:function(){N(m,s-1)},className:"btn-floating quantity-adjustment-btn"}," ",c.a.createElement("i",{className:"material-icons"},"remove_circle")," "),c.a.createElement("input",{value:p,onKeyDown:function(e){13==e.keyCode&&e.target.value>0&&N(m,e.target.value)},onBlur:function(e){e.target.value>0&&N(m,e.target.value)},onChange:function(e){e.target.value<=0?v(1):v(e.target.value)},className:"cart-quantity-input",type:"number"}),c.a.createElement("div",{onClick:function(){N(m,s+1)},className:"btn-floating quantity-adjustment-btn"}," ",c.a.createElement("i",{className:"material-icons"},"add_circle")," ")),c.a.createElement("div",{onClick:function(){h(m)},className:"btn remove_btn"},"Remove"))))})),B=(a(528),a(33)),G=a.n(B);var q=Object(E.b)((function(e){return{cartUpdate:e.cartUpdate,authuid:e.firebase.auth.uid}}),(function(e){return{updateCartAction:function(t,a){e(function(e,t){return function(a,n,c){c.getFirebase;var r=c.getFirestore;a({type:"CART_UPDATING"}),t=parseInt(t);var l=r();console.log("state");var s=n().firebase.auth.uid;l.collection("users").doc(s).collection("cart").doc(e).update({cartQty:t}).then((function(){setTimeout((function(){return a({type:"CART_UPDATED"})}),500)}))}}(t,a))},removeFromCart:function(t){e(function(e){return function(t,a,n){n.getFirebase;var c=n.getFirestore;t({type:"CART_UPDATING"});var r=c(),l=a().firebase.auth.uid;r.collection("/users").doc(l).collection("/cart").doc(e).delete().then((function(){return t({type:"CART_UPDATED"})}))}}(t))},cartMessageReset:function(){e((function(e,t,a){return a.getFirebase,a.getFirestore,e({type:"CART_MESSAGE_RESET"})}))},deleteNotification:function(t){e(function(e){return function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=a().firebase.auth.uid;c.collection("/users").doc(r).collection("cartNotifications").doc(e).delete()}}(t))}}}))((function(e){var t,a,r,l=Object(o.f)(),s=null!==(t=Object(E.c)((function(e){return e.firebase.auth.uid})))&&void 0!==t?t:"default";Object(n.useEffect)((function(){s&&"default"!=s||setTimeout((function(){l.push("/login")}),3e3)}),[s]);var i=Object(n.useState)(0),d=Object(u.a)(i,2),m=d[0],f=d[1];Object(p.useFirestoreConnect)([{collection:"users",doc:s,subcollections:[{collection:"cart"}],storeAs:"cart"},{collection:"users",doc:s,subcollections:[{collection:"cartNotifications"}],storeAs:"cartNotifications"}]);var v=Object(E.c)((function(e){return e.firestore.ordered.cart})),b=Object(n.useState)([]),N=Object(u.a)(b,2),h=N[0],g=N[1],y=Object(n.useState)(""),C=Object(u.a)(y,2),w=C[0],S=C[1];Object(n.useEffect)((function(){if(!Object(p.isLoaded)(v))return S("LOADING");if(!v||0==v.length)return g([]),S("EMPTY");S("FETCHED"),g(v);var e=v.reduce((function(e,t){return e+t.productPrice*t.cartQty}),0);f(e)}),[v]);var x=null!==(a=Object(E.c)((function(e){var t;return G.a.orderBy(null!==(t=e.firestore.ordered.cartNotifications)&&void 0!==t?t:[],["createdAt"],["desc"])})))&&void 0!==a?a:[];Object(n.useEffect)((function(){}),[x]);var k=e.updateCartAction,_=e.removeFromCart,A=e.cartMessageReset,F=e.deleteNotification,P={updateCart:function(e,t){var a=h.map((function(a){return a.id==e?Object(U.a)(Object(U.a)({},a),{},{cartQty:t}):a})),n=a.reduce((function(e,t){return e+t.productPrice*t.cartQty}),0);f(n),g(a),k(e,t)},removeFromCart:_},R=null===e||void 0===e||null===(r=e.cartUpdate)||void 0===r?void 0:r.cartMessage;Object(n.useEffect)((function(){"CART_UPDATED"!=R&&"CART_ADDED"!=R||A()}),[R]);var D=c.a.createElement("div",{className:"col s12 l5 push-s0 push-l7"},c.a.createElement("div",{className:"cart-total-container center"},c.a.createElement("h6",{className:"primary-green-light"},"Cart Total"),c.a.createElement("h5",{className:"center-align primary-green-dark heavy_text"},O(m)),c.a.createElement("div",{onClick:function(){l.push("/checkout")},className:"btn dark_btn"},"Checkout"))),L=c.a.createElement("div",{className:"col s12 l7 pull-s0 pull-l5"},c.a.createElement("div",{className:"cart-items-container"},h&&h.map((function(e){return c.a.createElement(H,{key:Object(j.a)(),cartFunc:P,cartItem:e})})))),B=x&&x.length>0?c.a.createElement("div",{className:"cartNotifications"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"row"},x.map((function(e){return c.a.createElement(n.Fragment,{key:Object(j.a)()},c.a.createElement("div",{className:"col s9"},c.a.createElement("p",{className:"head regular_text center"},e.notificationMessage)),c.a.createElement("div",{className:"col s3 center"},c.a.createElement("div",{onClick:function(){F(e.id)},className:"btn-floating btn-small red_btn"},c.a.createElement("i",{className:"material-icons"},"clear"))),c.a.createElement("div",{className:"col s12"}))})))))):null,q=c.a.createElement("div",{className:"row"},h&&h.length>0?c.a.createElement(n.Fragment,null,D,L):c.a.createElement(n.Fragment,null,"LOADING"==w?c.a.createElement(T,null):null,"EMPTY"==w?c.a.createElement(M,null,c.a.createElement("p",{className:"center flow-text"},"Your Cart is Empty")," "):null));return c.a.createElement("div",{className:"Cart"},c.a.createElement("div",{className:"container"},c.a.createElement("h5",{className:"primary-green-dark-text center"},"Your Shopping ",c.a.createElement("span",{className:"heavy_text"},"Cart")),B,"default"!=s?c.a.createElement(I,{waitBeforeShow:500},c.a.createElement(n.Fragment,null,q)):c.a.createElement(M,null,c.a.createElement("p",{className:"flow-text center"},"Please ",c.a.createElement("span",{className:"heavy_text primary-green-dark-text"},"SignIn")," To Continue"))))})),Y=a(51),z=a.n(Y),Q=a(310),W=a.n(Q).a.create({baseURL:"https://us-central1-digizup-store-test1.cloudfunctions.net/api"}),X=a(34);var K=Object(f.d)(Object(E.b)((function(e){return{}}),(function(e){return{addAddress:function(t){e(function(e){return console.log("addAddressAction"),function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=a().firebase.auth.uid;c.collection("users").doc(r).collection("addresses").add(Object(U.a)(Object(U.a)({},e),{},{createdAt:new Date})).then((function(){console.log("newAddress added")})).catch((function(e){console.log("err=>",e.message)}))}}(t))},addCard:function(t){e(function(e){return function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=a().firebase.auth.uid;c.collection("users").doc(r).collection("cards").add(Object(U.a)(Object(U.a)({},e),{},{createdAt:new Date})).then((function(){console.log("new card added")})).catch((function(e){console.log("err=>",e.message)}))}}(t))},placeOrder:function(t){e(function(e){return console.log("newOrder",e),function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=a().firebase.auth.uid;c.collection("users").doc(r).collection("orders").add(Object(U.a)(Object(U.a)({},e),{},{status:"Order Placed",isOpen:!0,createdAt:new Date,tracking:[{title:"Placed Order",updateTime:new Date}]})).then((function(){console.log("placed order")})).then(Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.collection("users").doc(r).collection("cart").get();case 2:t=e.sent,console.log("snap",t),t.docs.forEach((function(e){c.collection("users").doc(r).collection("cart").doc(e.id).delete()}));case 5:case"end":return e.stop()}}),e)})))).catch((function(e){console.log("err=>",e)}))}}(t))}}})),o.g)((function(e){var t,a,r,l,s=null!==(t=Object(E.c)((function(e){return e.firebase.auth.uid})))&&void 0!==t?t:"default",i=null!==(a=Object(E.c)((function(e){return e.firebase.profile})))&&void 0!==a?a:{};Object(n.useEffect)((function(){console.log(i)}),[i]);var f=Object(o.f)(),v=Object(n.useState)(0),b=Object(u.a)(v,2),N=b[0],h=b[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[N]),Object(n.useEffect)((function(){s&&"default"!=s||setTimeout((function(){}),3e3)}),[s]),Object(p.useFirestoreConnect)([{collection:"users",doc:s,subcollections:[{collection:"cart"}],storeAs:"cart"},{collection:"users",doc:s,subcollections:[{collection:"addresses"}],storeAs:"addresses"}]);var y=null===e||void 0===e?void 0:e.addAddress,C=null===e||void 0===e?void 0:e.placeOrder,w=null!==(r=Object(E.c)((function(e){return e.firestore.ordered.cart})))&&void 0!==r?r:[];Object(n.useEffect)((function(){if(w.length>0){var e=w.reduce((function(e,t){return e+t.productPrice*t.cartQty}),0);A(e)}}),[w]);var S=null!==(l=Object(E.c)((function(e){return e.firestore.ordered.addresses})))&&void 0!==l?l:[];Object(n.useEffect)((function(){S&&0!=S.length&&-1==H&&B(0)}),[S]);var x=Object(n.useState)(0),k=Object(u.a)(x,2),_=k[0],A=k[1];Object(n.useEffect)((function(){}),[w,S]);var F={fullName:"",addressLine:"",city:"",state:"",country:"",pincode:"",phoneNo:""},T=Object(n.useState)(F),P=Object(u.a)(T,2),M=P[0],R=P[1],D=Object(n.useState)(-1),L=Object(u.a)(D,2),H=L[0],B=L[1],G=Object(n.useState)(4),q=Object(u.a)(G,2),Y=q[0],z=q[1],Q=Object(n.useState)(-1),K=Object(u.a)(Q,2),V=K[0],Z=(K[1],Object(n.useState)({cardHolderName:"",cardNo:"",cardExpMM:"",cardExpYY:""})),J=Object(u.a)(Z,2);J[0],J[1],Object(n.useEffect)((function(){}),[H]),Object(n.useEffect)((function(){}),[V]);var $=Object(X.useStripe)(),ee=Object(X.useElements)(),te=Object(n.useState)(null),ae=Object(u.a)(te,2),ne=(ae[0],ae[1]),ce=Object(n.useState)(""),re=Object(u.a)(ce,2),le=re[0],se=re[1],oe=Object(n.useState)(!0),ie=Object(u.a)(oe,2),de=ie[0],me=ie[1],ue=Object(n.useState)(null),Ee=Object(u.a)(ue,2),fe=Ee[0],pe=Ee[1],ve=Object(n.useState)(null),be=Object(u.a)(ve,2),Ne=be[0],he=be[1],ge=Object(n.useState)(!0),Oe=Object(u.a)(ge,2),ye=Oe[0],je=Oe[1];Object(n.useEffect)((function(){0!=_&&function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"post",url:"/payments/create?total=".concat(100*_)});case 2:t=e.sent,je(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[_]);var Ce=function(){var e;if(!(H<0)&&!(Y<0)){var t={cart:w.map((function(e){return{cartQty:e.cartQty,productName:e.productName,productPrice:e.productPrice,productid:e.productid,option:e.option,defaultImage:e.defaultImage}})),total:_,address:{fullName:S[H].fullName,addressLine:S[H].addressLine,city:S[H].city,state:S[H].state,country:S[H].country,pincode:S[H].pincode,phoneNo:S[H].phoneNo},paymentType:xe[Y].paymentType,consumeruid:s,cartCount:null!==(e=w.reduce((function(e,t){return e+t.cartQty}),0))&&void 0!==e?e:0,defaultImage:w[0].defaultImage};C(t),f.replace("/account/orders")}},we=function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(H<0)){e.next=3;break}return e.abrupt("return");case 3:if(!(Y<0)){e.next=5;break}return e.abrupt("return");case 5:return console.log("submit"),pe(!0),e.next=9,$.confirmCardPayment(ye,{payment_method:{card:ee.getElement(X.CardElement),billing_details:{name:"".concat(i.firstName," ").concat(i.lastName," - ").concat(s)}}}).then((function(e){var t;"succeeded"==(null===e||void 0===e||null===(t=e.paymentIntent)||void 0===t?void 0:t.status)?(he(!0),pe(!1),ne(null),se(""),Ce()):(pe(!1),se(e.error.message))}));case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=c.a.createElement("div",{className:"deliverySection"},c.a.createElement("h4",{className:"center"},"Select Your Delivery Location"),c.a.createElement("div",{className:"row"},S||0!=S.length?null:c.a.createElement("p",{className:"center"},"No saved Address found.",c.a.createElement("br",null),"Please add atleast one."),S&&S.map((function(e,t){return c.a.createElement("div",{key:Object(j.a)(),className:"col s6 m6 l4"},c.a.createElement("div",{onClick:function(){B(t)},className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("p",{className:"flow-text"},c.a.createElement("label",null,c.a.createElement("input",{name:"addressGroup",type:"radio",checked:t==H,readOnly:!0}),c.a.createElement("span",{className:"primary-green-dark-text heavy_text"},e.fullName))),c.a.createElement("p",null,e.addressLine),c.a.createElement("p",null,e.city,", ",e.state,"-",e.pincode),c.a.createElement("p",null,e.phoneNo,"--",e.country))))})),c.a.createElement("div",{className:"col s12"}),c.a.createElement("div",{className:"col s12 m6 center"},c.a.createElement(g.Modal,{actions:[c.a.createElement(g.Button,{flat:!0,modal:"close",node:"button",waves:"red"},"Close"),c.a.createElement(g.Button,{onClick:function(){y(M),R(F)},flat:!0,modal:"close",node:"button",waves:"green"},"Add Address")],bottomSheet:!1,fixedFooter:!0,header:"Add a new Address",id:"addAddressModal",open:!1,options:{dismissible:!0,endingTop:"16%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"55%"},trigger:c.a.createElement("div",{className:"btn light_btn"}," ",c.a.createElement("i",{className:"material-icons"},"add")," ",c.a.createElement("span",null,"Add Address")," ")},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("i",{className:"material-icons prefix"},"account_circle"),c.a.createElement("input",{onChange:function(e){R(Object(U.a)(Object(U.a)({},M),{},{fullName:e.target.value}))},value:M.fullName,id:"fullName-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"fullName-addAddress"},"Full Name")),c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("i",{className:"material-icons prefix"},"location_city"),c.a.createElement("input",{onChange:function(e){R(Object(U.a)(Object(U.a)({},M),{},{addressLine:e.target.value}))},value:M.addressLine,id:"addressLine-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"addressLine-addAddress"},"Address Line")),c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("i",{className:"material-icons prefix"},"location_on"),c.a.createElement("input",{onChange:function(e){R(Object(U.a)(Object(U.a)({},M),{},{city:e.target.value}))},value:M.city,id:"city-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"city-addAddress"},"City")),c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("input",{onChange:function(e){R(Object(U.a)(Object(U.a)({},M),{},{state:e.target.value}))},value:M.state,id:"state-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"state-addAddress"},"State")),c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("input",{onChange:function(e){R(Object(U.a)(Object(U.a)({},M),{},{country:e.target.value}))},value:M.country,id:"country-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"country-addAddress"},"Country")),c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("input",{onChange:function(e){R(Object(U.a)(Object(U.a)({},M),{},{pincode:e.target.value}))},value:M.pincode,id:"pincode-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"pincode-addAddress"},"Pincode")),c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("i",{className:"material-icons prefix"},"local_phone"),c.a.createElement("input",{onChange:function(e){R(Object(U.a)(Object(U.a)({},M),{},{phoneNo:e.target.value}))},value:M.phoneNo,id:"phoneNo-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"phoneNo-addAddress"},"Phone Number"))))),c.a.createElement("div",{className:"col s12 m6 center"},S&&0!=S.length?c.a.createElement("div",{onClick:function(){H<0||h(1)},className:"btn dark_btn"},"Select Address"):c.a.createElement("div",{className:"btn dark_btn disabled"},"Select Address")))),xe=[{paymentType:"card",paymentModeHead:"Credit / Debit Card",paymentModeIcon:"payment",paymentModeInner:c.a.createElement("p",null,"We accept Visa, MasterCard Credit and debit cards.")},{paymentType:"crypto",paymentModeHead:"Crypto Currencies",paymentModeIcon:"fingerprint",paymentModeInner:c.a.createElement("p",null,"coinbase e-commerce * ")},{paymentType:"paypal",paymentModeHead:"PayPal",paymentModeIcon:"filter_drama",paymentModeInner:c.a.createElement("p",null,"paypal Integration* ")},{paymentType:"paytm",paymentModeHead:"Paytm",paymentModeIcon:"filter_drama",paymentModeInner:c.a.createElement("p",null,"paytm Integration* ")},{paymentType:"cod",paymentModeHead:"COD/POD (Cash/Pay On Delivery)",paymentModeIcon:"attach_money",paymentModeInner:c.a.createElement("p",null,"we acccept cash aswell as digital payment options on your door step ")}],ke=[Se,c.a.createElement("div",{className:"checkout-payment-modes-section"},c.a.createElement("h4",{className:"center"},"Select Your Payment Option"),c.a.createElement(g.Collapsible,null,xe.map((function(e,t){return c.a.createElement(g.CollapsibleItem,{key:Object(j.a)(),expanded:t==Y,onClick:function(){z(t)},header:c.a.createElement("div",{className:"payment-mode-option"},c.a.createElement("label",null,c.a.createElement("input",{name:"paymentModesGroup",type:"radio",checked:t==Y,readOnly:!0}),c.a.createElement("span",null)),c.a.createElement("p",{className:" payment-mode-option-name primary-green-dark-text heavy_text"},e.paymentModeHead),c.a.createElement("span",null,c.a.createElement("i",{className:"material-icons"},t==Y?"keyboard_arrow_up":"keyboard_arrow_down"))),icon:c.a.createElement(g.Icon,null,e.paymentModeIcon),node:"div"},e.paymentModeInner)}))),c.a.createElement("div",{className:"center"},c.a.createElement("div",{onClick:function(){Y>=0&&h(2)},className:"btn dark_btn"},"Order Summary"))),c.a.createElement("div",{className:"checkout-order-summary-section"},c.a.createElement("div",{className:"summary-delivery-address"},S&&H>-1?c.a.createElement("div",{className:"center"},c.a.createElement("h6",{className:"center"}," ",c.a.createElement(g.Icon,null,"location_on")," Delivery Address:"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"card col s8 m8 l6 offset-m2 offset-l3 round-card"},c.a.createElement("div",{className:"card-content"},S[H]?c.a.createElement(n.Fragment,null,c.a.createElement("p",{className:"heavy_text"},S[H].fullName),c.a.createElement("p",{className:"heavy_text"},S[H].addressLine+"-"+S[H].city),c.a.createElement("p",{className:"heavy_text"},S[H].state+"-"+S[H].pincode+", "+S[H].country),c.a.createElement("p",{className:"heavy_text"},S[H].phoneNo)):null)))):null),c.a.createElement("div",{className:"summary-payment-mode"},c.a.createElement("h6",{className:"center"},"Payment Option: ",c.a.createElement(g.Icon,null,xe[Y].paymentModeIcon)," ",xe[Y].paymentModeHead)),c.a.createElement("div",{className:"summary-order-details"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m8 l8 offset-m2 offset-l2"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"Product"),c.a.createElement("td",null,"Price/Qty"),c.a.createElement("td",null,"Qty"),c.a.createElement("td",null,"SubTotal")),w&&w.map((function(e){return c.a.createElement("tr",{key:Object(j.a)()},c.a.createElement("td",null,e.productName),c.a.createElement("td",null,e.productPrice),c.a.createElement("td",null,e.cartQty),c.a.createElement("td",null,e.productPrice*e.cartQty))})),c.a.createElement("tr",null,c.a.createElement("td",null),c.a.createElement("td",null),c.a.createElement("td",{className:"heavy_text"},"Total"),c.a.createElement("td",{className:"heavy_text no-wrap"},O(_)))))))))),c.a.createElement("div",{className:"summary-payment-proceeding"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m6 center"},c.a.createElement("div",{onClick:function(){h(0)},className:"btn light_btn"},"Edit Address/Payment Options")),c.a.createElement("div",{className:"col s12 m6 center"},0===Y?c.a.createElement("div",{onClick:function(){h(3)},className:"btn dark_btn"},"Proceed To Payment"):c.a.createElement("div",{onClick:function(){Ce()},className:"btn dark_btn"},"Place Order"))))),c.a.createElement("div",{className:"card round-card"},c.a.createElement("h4",{className:"center head"},"Payment"),c.a.createElement("div",{className:"card-content center"},c.a.createElement("form",{onSubmit:we},c.a.createElement(X.CardElement,{options:{value:{hidePostalCode:!0}},onChange:function(e){me(e.empty),ne(e.error?e.error.message:"")}}),c.a.createElement("button",{className:"btn dark_btn",disabled:fe||de||Ne},c.a.createElement("span",null,fe?"Processing":"Pay Now"))),c.a.createElement("p",{className:"center red-text"},le))),c.a.createElement("div",{className:"checkout-integration-section"},c.a.createElement("h5",{className:"center"},"Success!!"))];return c.a.createElement("div",{className:"Checkout Page"},c.a.createElement("div",{className:"container"},"default"!=s?c.a.createElement(I,{waitBeforeShow:5e3},ke[N]):c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s8 m6 l6 offset-s2 offset-m3 offset-l3"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("p",{className:"flow-text"},"Please ",c.a.createElement("span",{className:"heavy_text primary-green-dark-text"},"SignIn"),"To Continue"))))))))})),V=a(311),Z=a.n(V),J=a(317),$=a.n(J),ee=a(316),te=a.n(ee),ae=a(312),ne=a.n(ae),ce=a(16),re=a.n(ce),le=function(e,t){return function(){var a=Object(m.a)(d.a.mark((function a(n,c,r){var l,s,o,i,m,u;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l=r.getFirestore,r.getFirebase,n({type:"SEARCH_IN_PROGRESS"}),s=l(),e=e.toLowerCase(),o=e.split(/(?:,| |\+|-|\(|\))+/),a.next=7,s.collection("/products").where("hasOptions","==",!1).where("tags","array-contains-any",o).get();case 7:return i=a.sent,a.next=10,s.collection("/products").where("hasOptions","==",!0).where("tags","array-contains-any",o).get();case 10:(m=a.sent).empty&&i.empty,u=[],i.forEach((function(e){try{var a,n=e.data();if(!n.categories.includes(t))return;var c=n.tags.reduce((function(e,t){return o.includes(t)?e+1:e}),0);u.push({id:e.id,productName:n.productName,price:n.price,defaultImage:n.images[0],option:!1,matches:c,rating:null!==(a=n.rating)&&void 0!==a?a:4.5})}catch(r){return}})),m.forEach((function(e){var a=e.data();a.categories.includes(t)&&Object.keys(a.productOptions).sort().forEach((function(t,n){try{var c;if(!a.productOptions[t].isActive)return;var r=a.productOptions[t].optionTags.reduce((function(e,t){return o.includes(t)?e+1:e}),0);u.push({id:e.id,productName:a.productOptions[t].productFullName,price:a.productOptions[t].price,defaultImage:a.productOptions[t].images[0],option:t,matches:r,rating:null!==(c=a.rating)&&void 0!==c?c:4.5})}catch(l){return}}))})),(u=G.a.orderBy(u,["matches","option"],["desc","asc"])).length>0?n({type:"SEARCH_RESULTS_FETCHED",searchResults:u}):n({type:"SEARCH_RESULTS_NOT_FOUND",err:"No Results Found"});case 17:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}()};var se=Object(f.d)(Object(E.b)((function(e){return{categories:e.firestore.ordered.categories,auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{logout:function(){e((function(e,t,a){var n=a.getFirebase;return a.getFirestore,n().auth().signOut().then((function(){e({type:"LOGOUT_SUCCESS"})})).catch((function(t){e({type:"LOGOUT_ERROR",err:t.message})}))}))},search:function(t,a){e(le(t,a))},searchReset:function(){e((function(e,t,a){return a.getFirebase,a.getFirestore,e({type:"SEARCH_RESET"})}))}}})),Object(p.firestoreConnect)([{collection:"categories"}]),o.g)((function(e){var t,a,r,l=e.auth,i=e.profile,d=e.logout,m=(e.search,e.searchReset),f=Object(n.useState)(null),v=Object(u.a)(f,2),b=v[0],N=v[1],h=Object(o.f)(),O=Object(n.useState)(0),y=Object(u.a)(O,2),C=y[0],w=y[1];Object(n.useEffect)((function(){if(null===e||void 0===e?void 0:e.categories){var t=e.categories,a=t.filter((function(e){return"All"==e.title}));t=(t=G.a.orderBy(t,["title"],["asc"])).filter((function(e){return"All"!=e.title})),t=a.concat(t),N(t)}}),[e.categories]);var S=null!==(t=Object(E.c)((function(e){return e.firebase.auth.uid})))&&void 0!==t?t:"default";Object(p.useFirestoreConnect)([{collection:"users",doc:S,subcollections:[{collection:"cart"}],storeAs:"cart"}]),Object(p.useFirestoreConnect)([{collection:"users",doc:S,subcollections:[{collection:"orders"}],storeAs:"orders"}]);var x=null!==(a=Object(E.c)((function(e){return e.firestore.ordered.cart})))&&void 0!==a?a:[];Object(n.useEffect)((function(){var e=x.reduce((function(e,t){return parseInt(parseInt(e)+parseInt(t.cartQty))}),0);w(e)}),[x]);var k=Object(n.useState)(!1),_=Object(u.a)(k,2),A=_[0],F=_[1],T=Object(n.useState)("All"),I=Object(u.a)(T,2),P=I[0],M=I[1],R=Object(n.useState)(""),D=Object(u.a)(R,2),L=D[0],U=D[1],H=z.a.parse(null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.search);Object(n.useEffect)((function(){var e;U(null!==(e=null===H||void 0===H?void 0:H.searchTerm)&&void 0!==e?e:"")}),[null===H||void 0===H?void 0:H.searchTerm]),Object(n.useEffect)((function(){var e;M(null!==(e=null===H||void 0===H?void 0:H.category)&&void 0!==e?e:"All")}),[null===H||void 0===H?void 0:H.category]);var B=Object(n.useState)(window.innerWidth),q=Object(u.a)(B,2),Y=(q[0],q[1]),Q=Object(n.useState)(window.innerHeight),W=Object(u.a)(Q,2),X=(W[0],W[1]),K=function(){Y(window.innerWidth),X(window.innerHeight)};Object(n.useEffect)((function(){A?(re()(".side_menu").css("zIndex","2900"),re()(".side_menu_content").css("transform","translateX(0%)"),re()(".overlay").css("opacity","1")):(re()(".side_menu_content").css("transform","translateX(-100%)"),re()(".overlay").css("opacity","0"),setTimeout((function(){re()(".side_menu").css("zIndex","-1")}),200))}),[A]),Object(n.useEffect)((function(){return re()("link").click((function(){console.log("link Click"),F(!1)})),re()("ovelayLink").click((function(){console.log("link Click"),F(!1)})),window.addEventListener("resize",K),function(){window.removeEventListener("resize",K)}}),[]);var V=function(){m(),h.push("/store?searchTerm="+L+"&&category="+P)},J=null===b||void 0===b?void 0:b.map((function(e){return c.a.createElement("a",{key:Object(j.a)(),onClick:function(){M(null===e||void 0===e?void 0:e.title)}},null===e||void 0===e?void 0:e.title)})),ee=c.a.createElement(g.Dropdown,{id:"Dropdown_6",options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!1,container:null,coverTrigger:!1,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:c.a.createElement("div",{className:"btn categories_dropdown_trigger"},P.slice(0,15)+(P.length>15?"..":"")+" \u25bc")},J),ae=c.a.createElement("div",{className:"navbar__searchInput_container"},c.a.createElement("div",{className:"navbar__searchInput"},ee,c.a.createElement("input",{id:"searchInput",type:"text",value:L,onChange:function(e){return U(e.target.value)},onKeyDown:function(e){13==e.keyCode&&V()}}),c.a.createElement("i",{onClick:V,className:"material-icons search-icon"},"search"))),ce=null===b||void 0===b?void 0:b.map((function(e){return c.a.createElement("div",{key:Object(j.a)(),className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/store/"+(null===e||void 0===e?void 0:e.urlid)},null===e||void 0===e?void 0:e.title))}));return c.a.createElement("div",{className:"Navbar"},c.a.createElement(s.b,{onClick:function(){F(!1)},className:"link cart-link",to:"/cart"},c.a.createElement("span",{className:"cart_items_count"},C)),c.a.createElement("nav",null,c.a.createElement("div",{className:"nav__left valign-wrapper"},c.a.createElement("span",{onClick:function(){F(!A)}},A?c.a.createElement(te.a,{className:"menu-icon"}):c.a.createElement(ne.a,{className:"menu-icon"})),c.a.createElement(s.b,{onClick:function(){F(!1)},exact:!0,to:"/"},c.a.createElement("span",{className:"mini-logo-container"},c.a.createElement("img",{className:"mini-logo",src:Z.a}))),c.a.createElement(s.b,{onClick:function(){F(!1)},exact:!0,to:"/"},c.a.createElement("span",{className:"navbar__logo"},"Store"))),ae,(null===l||void 0===l?void 0:l.uid)?c.a.createElement("ul",{className:"hide-on-med-and-down row-flex-center"},c.a.createElement("li",null,c.a.createElement(s.b,{onClick:function(){F(!1)},className:"link",to:"/store"},"Store")),c.a.createElement("li",null,c.a.createElement(s.b,{onClick:function(){F(!1)},className:"nav_user_block_link",to:"/account"},c.a.createElement("div",{className:"nav_user_block"},c.a.createElement("p",{className:"line1"},"Hello,"),c.a.createElement("p",{className:"line2"},null===i||void 0===i?void 0:i.firstName))))):c.a.createElement("ul",{className:"hide-on-med-and-down row-flex-center"},c.a.createElement("li",null,c.a.createElement(s.b,{onClick:function(){F(!1)},className:"link",to:"/store"},"Store")),c.a.createElement("li",null,c.a.createElement(s.b,{onClick:function(){F(!1)},className:"btn login_btn",to:"/login"},"Login")),c.a.createElement("li",null,c.a.createElement(s.b,{onClick:function(){F(!1)},className:"btn signup_btn",to:"/signup"},"Signup"))),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(s.b,{onClick:function(){F(!1)},className:"link cart-link",to:"/cart"},c.a.createElement($.a,{style:{fontSize:40,marginTop:12}}))))),c.a.createElement("div",{className:"side_menu"},c.a.createElement("div",{className:"overlay"},c.a.createElement("div",{className:"side_menu_content"},c.a.createElement("div",{className:"overlay_top_container"},c.a.createElement(g.Collapsible,{accordion:!0},(null===l||void 0===l?void 0:l.uid)?c.a.createElement(g.CollapsibleItem,{expanded:!1,header:"Hello, ".concat(i.firstName," ").concat(i.lastName),icon:c.a.createElement(g.Icon,null,"account_box"),node:"div"},c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/account"},"Dashboard")),c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/account/orders"},"My Orders")),c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/account/addresses"},"My Addresses"))):null,c.a.createElement(g.CollapsibleItem,{expanded:!0,header:"Store",icon:c.a.createElement(g.Icon,null,"place"),node:"div"},c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/store"},"Visit Store")),c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/cart"},"My Cart")),ce),c.a.createElement(g.CollapsibleItem,{expanded:!1,header:"Explore",icon:c.a.createElement(g.Icon,null,"whatshot"),node:"div"},c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/"},"Home")),c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/about"},"About Us")),c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/reviews"},"Reviews")),c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/termsconditions"},"Terms & Conditions")),c.a.createElement("div",{className:"overlayLinkContainer"}," ",c.a.createElement(s.b,{onClick:function(){F(!1)},className:"overlayLink",exact:!0,to:"/privacy"},"Privacy Statement"))))),(null===l||void 0===l?void 0:l.uid)?c.a.createElement("div",null,"Not recognizing this account?",c.a.createElement("div",{onClick:function(){F(!1),d()},to:"/login",className:"btn login_btn"},"LogOut")):c.a.createElement("div",{className:"overlay_bottom_container"},c.a.createElement("div",null,c.a.createElement(s.b,{onClick:function(){F(!1)},to:"/login",className:"btn login_btn"},"Login")),c.a.createElement("div",null,c.a.createElement(s.b,{onClick:function(){F(!1)},to:"/signup",className:"btn signup_btn"},"Signup")))),c.a.createElement("div",{onClick:function(){F(!1)},className:"side_right"}))))}));a(564);var oe=function(e){var t=e.product,a=t.productName,n=t.id,r=t.option,l=t.price,s=t.defaultImage,i=t.rating,d=Object(o.f)();return c.a.createElement("div",{className:"ProductCard"},c.a.createElement(g.Card,{className:"round-card",onClick:function(){var e="/product/"+n+(r?"?productOption="+r:"");d.push(e)},header:c.a.createElement(g.CardTitle,{image:s}),horizontal:!0},c.a.createElement("h6",{className:"product-productName"},a),function(e){var t,a=(t=e,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t)),n=a[0],r=a.split(".")[0].slice(1),l=a.split(".")[1];return c.a.createElement("h5",{className:"product-price"},n+" "+r+".",c.a.createElement("sub",null,l))}(l),c.a.createElement("div",{className:"product-rating"},Array(Math.round(i)).fill().map((function(e){return c.a.createElement("span",{key:Object(j.a)()},"\ud83c\udf1f")})),Array(5-Math.round(i)).fill().map((function(e){return c.a.createElement("span",{key:Object(j.a)()},"\u2605")})),c.a.createElement("span",{className:"rating-numbers"}," "+i," rating"))))};var ie=Object(f.d)(Object(E.b)((function(e){return{search:e.search,products:e.firestore.ordered.products,isLoaded:!0}}),(function(e){return{searchAction:function(t,a){e(le(t,a))},searchReset:function(){e((function(e,t,a){return a.getFirebase,a.getFirestore,e({type:"SEARCH_RESET"})}))}}})),o.g)((function(e){var t,a,r,l=Object(o.f)(),s=z.a.parse(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.search),i=null!==(a=null===s||void 0===s?void 0:s.searchTerm)&&void 0!==a?a:"",d=null!==(r=null===s||void 0===s?void 0:s.category)&&void 0!==r?r:"All",m=e.search,u=e.searchAction,E=e.searchReset,f=m.searchError,p=m.searchResults,v=m.searchMessage;return Object(n.useEffect)((function(){E(),""==i?l.push("/store/all"):u(i,d)}),[i,d]),Object(n.useEffect)((function(){}),[v,f,p]),c.a.createElement("div",{className:"Store Page"},c.a.createElement("div",{className:"products-container container"},p&&p.map((function(e){return c.a.createElement(oe,{key:Object(j.a)(),product:e})})),"SEARCH_RESULTS_NOT_FOUND"==v?c.a.createElement(M,null,c.a.createElement("p",{className:"flow-text center"},"Nothing Relevant Found")):null,"SEARCH_IN_PROGRESS"==v?c.a.createElement(T,null):null))}));var de=Object(E.b)((function(e){return{authError:e.auth.authError,authMessage:e.auth.authMessage}}),(function(e){return{login:function(t){e(function(e){return function(t,a,n){var c=n.getFirebase;n.getFirestore;c().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"LOGIN_SUCCESS"})})).catch((function(e){t({type:"LOGIN_ERROR",err:e.message})}))}}(t))},authMessageReset:function(){e((function(e,t,a){return a.getFirebase,a.getFirestore,e({type:"AUTH_MESSAGE_RESET"})}))}}}))((function(e){var t=e.authMessage,a=e.authError,r=(e.login,e.authMessageReset),l=Object(n.useState)(""),s=Object(u.a)(l,2),i=s[0],d=s[1],m=Object(n.useState)(""),E=Object(u.a)(m,2),f=E[0],p=E[1],v=Object(n.useState)(!1),b=Object(u.a)(v,2),N=b[0],h=b[1],g=Object(n.useState)(!1),O=Object(u.a)(g,2),y=O[0],j=O[1],C=Object(n.useState)(!1),w=Object(u.a)(C,2),S=w[0],x=(w[1],Object(n.useState)("")),k=Object(u.a)(x,2),_=k[0],A=k[1],F=Object(o.f)();Object(n.useEffect)((function(){N&&I()}),[i]),Object(n.useEffect)((function(){y&&P()}),[f]),Object(n.useEffect)((function(){console.log("authMessage",t,a),"LOGIN_SUCCESS"==t?(A("You are successfully logged in."),setTimeout((function(){F.push("/")}),3e3)):A(a),setTimeout((function(){r()}),5e3)}),[t]);var T="AUTH_MESSAGE_RESET"==t||null==t?null:c.a.createElement("span",{className:"LOGIN_SUCCESS"==t?"success":"error"},_),I=function(){if(0!=i.length){/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(i)?R("email"):M("email","email not valid")}else M("email","enter your email")},P=function(){0!=f.length?f.length<8?M("password","password length might be greater"):R("password"):M("password","enter your password")},M=function(e,t){re()(".".concat(e,"-field")).removeClass("valid").addClass("invalid"),re()(".".concat(e,"-helper-text")).html(t)},R=function(e){re()(".".concat(e,"-field")).removeClass("invalid").addClass("valid"),re()(".".concat(e,"-helper-text")).html("")};return c.a.createElement("div",{className:"Login"},c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-title"},c.a.createElement("span",{className:"light_text"},"Log"),c.a.createElement("span",{className:"heavy_text"},"In")),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"log center"},T),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),h(!0),j(!0),I(),P(),S=0==re()(".input-field.invalid").length,console.log("formvalidation",S),S?(console.log(i,f),e.login({email:i,password:f})):console.log("form is invalid")}},c.a.createElement("div",{className:"input-field email-field"},c.a.createElement("i",{className:"material-icons prefix"},"email"),c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{onChange:function(e){d(e.target.value)},onBlur:function(){h(!0),I()},id:"email",type:"email",value:i}),c.a.createElement("span",{className:"helper-text email-helper-text"})),c.a.createElement("div",{className:"input-field password-field"},c.a.createElement("i",{className:"material-icons prefix"},"fingerprint"),c.a.createElement("label",{htmlFor:"password"},"Password"),c.a.createElement("input",{onChange:function(e){p(e.target.value)},onBlur:function(){j(!0),P()},id:"password",type:"password",value:f}),c.a.createElement("span",{className:"helper-text password-helper-text"})),c.a.createElement("div",{className:"center"},c.a.createElement("button",{className:"btn light_btn"},"Login")))))))}));var me=Object(E.b)((function(e){return{authError:e.auth.authError,authMessage:e.auth.authMessage}}),(function(e){return{signup:function(t){e(function(e){return function(t,a,n){var c=n.getFirebase,r=n.getFirestore,l=c(),s=r();return l.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return s.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,email:e.email,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e.message})}))}}(t))},authMessageReset:function(){e((function(e,t,a){return a.getFirebase,a.getFirestore,e({type:"AUTH_MESSAGE_RESET"})}))}}}))((function(e){var t=e.authMessage,a=e.authError,r=e.signup,l=e.authMessageReset,s=Object(n.useState)(""),i=Object(u.a)(s,2),d=i[0],m=i[1],E=Object(n.useState)(""),f=Object(u.a)(E,2),p=f[0],v=f[1],b=Object(n.useState)(""),N=Object(u.a)(b,2),h=N[0],g=N[1],O=Object(n.useState)(""),y=Object(u.a)(O,2),j=y[0],C=y[1],w=Object(n.useState)(""),S=Object(u.a)(w,2),x=S[0],k=S[1],_=Object(n.useState)(!1),A=Object(u.a)(_,2),F=A[0],T=A[1],I=Object(n.useState)(!1),P=Object(u.a)(I,2),M=P[0],R=P[1],D=Object(n.useState)(!1),L=Object(u.a)(D,2),U=L[0],H=L[1],B=Object(n.useState)(!1),G=Object(u.a)(B,2),q=G[0],Y=G[1],z=Object(n.useState)(!1),Q=Object(u.a)(z,2),W=Q[0],X=Q[1],K=Object(n.useState)(!1),V=Object(u.a)(K,2),Z=V[0],J=(V[1],Object(n.useState)("")),$=Object(u.a)(J,2),ee=$[0],te=$[1],ae=Object(o.f)();Object(n.useEffect)((function(){F&&ce()}),[d]),Object(n.useEffect)((function(){M&&le()}),[p]),Object(n.useEffect)((function(){U&&se()}),[h]),Object(n.useEffect)((function(){q&&oe()}),[j]),Object(n.useEffect)((function(){W&&ie()}),[x]),Object(n.useEffect)((function(){console.log("authMessage",t,a),"SIGNUP_SUCCESS"==t?(te("You are successfully signed up and logged in."),setTimeout((function(){ae.push("/")}),3e3)):te(a),setTimeout((function(){l()}),5e3)}),[t]);var ne="AUTH_MESSAGE_RESET"==t||null==t?null:c.a.createElement("span",{className:"SIGNUP_SUCCESS"==t?"success":"error"},ee),ce=function(){0!=d.length?me("firstName"):de("firstName","enter your firstName")},le=function(){0!=p.length?me("lastName"):de("lastName","enter your lastName")},se=function(){if(0!=h.length){/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(h)?me("email"):de("email","email not valid")}else de("email","enter your email")},oe=function(){0!=j.length?j.length<8?de("password","password should be a minimum of 8 characters"):me("password"):de("password","enter your password")},ie=function(){0!=x.length?x==j?me("confirmPassword"):de("confirmPassword","passwords didnot match"):de("confirmPassword","confirm your password")},de=function(e,t){re()(".".concat(e,"-field")).removeClass("valid").addClass("invalid"),re()(".".concat(e,"-helper-text")).html(t)},me=function(e){re()(".".concat(e,"-field")).removeClass("invalid").addClass("valid"),re()(".".concat(e,"-helper-text")).html("")};return c.a.createElement("div",{className:"Signup"},c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-title"},c.a.createElement("span",{className:"light_text"},"Sign"),c.a.createElement("span",{className:"heavy_text"},"Up")),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"log center"},ne),c.a.createElement("form",{className:"row",onSubmit:function(e){e.preventDefault(),T(!0),R(!0),H(!0),Y(!0),X(!0),ce(),le(),se(),oe(),ie(),Z=0==re()(".input-field.invalid").length,console.log("formvalidation",Z),Z?r({firstName:d,lastName:p,email:h,password:j,confirmPassword:x}):console.log("form is invalid")}},c.a.createElement("div",{className:"col s6 input-field firstName-field"},c.a.createElement("i",{className:"material-icons prefix"},"person"),c.a.createElement("label",{htmlFor:"firstName"},"First Name"),c.a.createElement("input",{onChange:function(e){m(e.target.value)},onBlur:function(){T(!0),ce()},id:"firstName",type:"text",value:d}),c.a.createElement("span",{className:"helper-text firstName-helper-text"})),c.a.createElement("div",{className:"col s6 input-field lastName-field"},c.a.createElement("i",{className:"material-icons prefix"}),c.a.createElement("label",{htmlFor:"lastName"},"Last Name"),c.a.createElement("input",{onChange:function(e){v(e.target.value)},onBlur:function(){R(!0),le()},id:"lastName",type:"text",value:p}),c.a.createElement("span",{className:"helper-text lastName-helper-text"})),c.a.createElement("div",{className:"col s12 input-field email-field"},c.a.createElement("i",{className:"material-icons prefix"},"email"),c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{onChange:function(e){g(e.target.value)},onBlur:function(){H(!0),se()},id:"email",type:"email",value:h}),c.a.createElement("span",{className:"helper-text email-helper-text"})),c.a.createElement("div",{className:"col s12 input-field password-field"},c.a.createElement("i",{className:"material-icons prefix"},"fingerprint"),c.a.createElement("label",{htmlFor:"password"},"Password"),c.a.createElement("input",{onChange:function(e){C(e.target.value)},onBlur:function(){Y(!0),oe()},id:"password",type:"password",value:j}),c.a.createElement("span",{className:"helper-text password-helper-text"})),c.a.createElement("div",{className:"col s12 input-field confirmPassword-field"},c.a.createElement("i",{className:"material-icons prefix"},"check_circle"),c.a.createElement("label",{htmlFor:"confirmPassword"},"confirmPassword"),c.a.createElement("input",{onChange:function(e){k(e.target.value)},onBlur:function(){X(!0),ie()},id:"confirmPassword",type:"password",value:x}),c.a.createElement("span",{className:"helper-text confirmPassword-helper-text"})),c.a.createElement("div",{className:"center"},c.a.createElement("button",{className:"btn signup_btn"},"Signup")))))))})),ue=a(47);a(566);var Ee=Object(f.d)(Object(E.b)((function(e){return{cartUpdate:e.cartUpdate}}),(function(e){return{addToCart:function(t){e(function(e){return function(t,a,n){n.getFirebase;var c=n.getFirestore;t({type:"CART_UPDATING"});var r=e.productid,l=e.option,s=c(),o=a().firebase.auth.uid,i=l?r+"-"+l:r+"-default";s.collection("/users").doc(o).collection("/cart").doc(i).set(e).then((function(){return t({type:"CART_UPDATED"})}))}}(t))},cartMessageReset:function(){e((function(e,t,a){return a.getFirebase,a.getFirestore,e({type:"CART_MESSAGE_RESET"})}))}}})),o.g)((function(e){var t,a,r=Object(o.f)(),l=e.match.params.productid,s=z.a.parse(r.location.search),i=Object(n.useState)(null!==(t=s.productOption)&&void 0!==t?t:null),d=Object(u.a)(i,2),m=d[0],f=d[1];Object(p.useFirestoreConnect)([{collection:"products",doc:null!==l&&void 0!==l?l:"default",storeAs:"product-".concat(l)}]);var v=Object(E.c)((function(e){return e.firestore.ordered["product-".concat(l)]})),b=Object(n.useState)({}),N=Object(u.a)(b,2),h=N[0],g=N[1];Object(n.useEffect)((function(){v&&v[0]&&g(v[0])}),[v]),Object(n.useEffect)((function(){h&&h.productName&&A()}),[h]);var y=function(e){return e.split("_").splice(1)},C=function(e){return"option_"+e.join("_")},S=Object(n.useState)({}),x=Object(u.a)(S,2),k=x[0],_=x[1],A=function(){"default"!=l&&(0!=h.hasOptions?0!=h.productOptions[m].isActive?_({productName:h.productOptions[m].productFullName,price:h.productOptions[m].price,images:h.productOptions[m].images,inStock:h.productOptions[m].inStock,features:[].concat(Object(ue.a)(h.features),Object(ue.a)(y(m).map((function(e,t){return h.optionCategoriesObject[h.optionCategories[t]][e].optionFeatures})).reduce((function(e,t){return[].concat(Object(ue.a)(e),Object(ue.a)(t))}),[]))),specs:[].concat(Object(ue.a)(h.specs),Object(ue.a)(y(m).map((function(e,t){return h.optionCategoriesObject[h.optionCategories[t]][e].optionSpecs})).reduce((function(e,t){return[].concat(Object(ue.a)(e),Object(ue.a)(t))}),[])))}):console.log("this option is not Active"):_(h))},F=function(e){r.push("/product/".concat(l,"?productOption=").concat(e))};Object(n.useEffect)((function(){h&&0!=h.hasOptions&&(null===h||void 0===h?void 0:h.productOptions)&&0!=h.productOptions[m].isActive&&A()}),[m]),Object(n.useEffect)((function(){return r.listen((function(){var e,t,a=(null===(e=s=z.a.parse(r.location.search))||void 0===e?void 0:e.productOption)||"default";return t=a,console.log("request to select",t),void f(t)}))}),[r]);var T=null!==(a=Object(E.c)((function(e){return e.firebase.auth.uid})))&&void 0!==a?a:"default",I=Object(n.useState)(1),P=Object(u.a)(I,2),M=P[0],R=P[1],D=function(e){R(e>=0?e:1)},L=e.addToCart,U=h&&h.hasOptions&&h.optionCategories&&h.optionCategoriesObject?c.a.createElement("div",{className:"categoryOptionsSelectionBtnsSection"},h.optionCategories.map((function(e,t){return c.a.createElement(n.Fragment,{key:Object(j.a)()},c.a.createElement("p",{key:Object(j.a)(),className:"flow-text head heavy_text"},e," :"),c.a.createElement("div",{className:"row-flex-center flex-wrap"},h.optionCategoriesObject[e].map((function(e,a){var n=y(m),r=y(m)[t]==a;n[t]=a;var l=C(n),s=h.productOptions[l].isActive,o=l;if(!s){var i=Object.keys(h.productOptions).sort().map((function(e){return y(e)}));o=C(i.find((function(e){return e[t]==a&&h.productOptions[C(e)].isActive})))}return s&&r?c.a.createElement("div",{key:Object(j.a)(),className:"category_chip selected"},e.optionName):s?c.a.createElement("div",{key:Object(j.a)(),onClick:function(){F(l)},className:"category_chip available"},e.optionName):c.a.createElement("div",{key:Object(j.a)(),onClick:function(){F(o)},className:"category_chip unavailable"},e.optionName)}))))}))):null,H=k&&k.images?c.a.createElement("div",{className:"image-section"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement(w.a,{options:{items:1,nav:!1,dots:!0,dotsEach:!0,rewind:!0,autoplay:!0,loop:!0},events:{}},k.images.map((function(e,t){return c.a.createElement("div",{key:Object(j.a)()},c.a.createElement("img",{src:e,alt:k.productName+"-img"+t}))})))))):null,B=k&&k.inStock?c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("h5",{className:"green-text heavy_text"},"In Stock"),"From: ",c.a.createElement("span",{className:"primary-green-light-text"},"Digizup Exclusive Seller"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s6 m12 l6 center"},c.a.createElement("div",{className:"quantity-selection-container"},c.a.createElement("div",{onClick:function(){D(M-1)},className:"btn-floating quantity-adjustment-btn"}," ",c.a.createElement("i",{className:"material-icons"},"remove_circle")," "),c.a.createElement("input",{value:M,onChange:function(e){D(e.target.value)},className:"cart-quantity-input",type:"number"}),c.a.createElement("div",{onClick:function(){D(M+1)},className:"btn-floating quantity-adjustment-btn"}," ",c.a.createElement("i",{className:"material-icons"},"add_circle")," "))),c.a.createElement("div",{className:"col s6 m12 l6 center"},c.a.createElement("div",{onClick:function(){!function(){var e;if(0!=M){console.log("adding to cart");var t={cartQty:M,defaultImage:null!==(e=k.images[0])&&void 0!==e?e:"",option:null!==m&&void 0!==m&&m,productName:k.productName,productPrice:k.price,productid:null!==l&&void 0!==l?l:null,createdAt:new Date};T&&"default"!=T?(L(t),r.push("/cart")):(alert("Please Login to add this item to cart"),r.push("/login"))}else D(1)}()},className:"btn btn add-to-cart-btn"}," ",c.a.createElement("i",{className:"material-icons"},"add_shopping_cart")," Add to Cart"))),c.a.createElement("hr",null)):c.a.createElement("h5",{className:"primary-red-text heavy_text"},"Out of Stock"),G=k&&k.features?c.a.createElement(n.Fragment,null,c.a.createElement("h5",{className:"left-align head regular_text"},"Features"),c.a.createElement("p",{className:"line-break",key:Object(j.a)()},k.features.map((function(e,t){return c.a.createElement(n.Fragment,{key:Object(j.a)()},c.a.createElement("span",{className:"head"},"\u2023 "),e,"\n\n")})))):null,q=k&&k.specs?c.a.createElement(n.Fragment,null,c.a.createElement("h5",{className:"left-align head regular_text"},"Specs"),c.a.createElement("table",null,c.a.createElement("tbody",null,k.specs.map((function(e,t){return c.a.createElement("tr",{key:Object(j.a)()},c.a.createElement("td",{className:"primary-green-dark-bg white-text"},e.specKey),c.a.createElement("td",{className:"white head"},e.specValue))}))))):null,Y=k&&k.description?c.a.createElement(n.Fragment,null,c.a.createElement("h5",{className:"left-align head regular_text"},"Description"),c.a.createElement("div",{className:"container"},c.a.createElement("p",{className:"line-break"},k.description))):null;return c.a.createElement("div",{className:"Product Page"},k&&k.productName?c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"top-row"},H,c.a.createElement("div",{className:"product-section"},c.a.createElement("h4",{className:"center head light_text"},k.productName),c.a.createElement("h4",{className:"right-align head heavy_text"},O(k.price)),U,B,G)),Y,q):null)}));a(176),a(568);var fe=Object(o.g)((function(e){var t=e.history,a=e.children;return Object(n.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),c.a.createElement(n.Fragment,null,a)})),pe=a(99),ve=a.n(pe);var be=Object(E.b)((function(e){return{}}),null)((function(e){var t=Object(o.f)(),a=e.order,n=a.defaultImage,r=a.id,l=a.cartCount,s=a.total,i=a.createdAt,d=a.status,m=function(){console.log("redirect to order summary page"),t.push("/account/order/"+r)};return c.a.createElement("div",{className:"OrderCard"},c.a.createElement(g.Card,{className:"round-card",closeIcon:c.a.createElement(g.Icon,null,"close"),header:c.a.createElement(g.CardTitle,{onClick:m,image:n}),horizontal:!0,revealIcon:c.a.createElement(g.Icon,null,"more_vert")},c.a.createElement(g.Chip,{className:"green-chip",close:!1,closeIcon:c.a.createElement(g.Icon,{className:"close"},"close"),options:null},c.a.createElement("span",{className:"flow-text"},l)," ",l>1?"items":"item"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 l7"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"Order Placed: "),c.a.createElement("th",null,ve()(i.toDate()).format("MMM Do YY, h:mm a"))),c.a.createElement("tr",null,c.a.createElement("td",null,"Total: "),c.a.createElement("th",null,O(s))),c.a.createElement("tr",null,c.a.createElement("td",null,"Status: "),c.a.createElement("th",null,d))))),c.a.createElement("div",{className:"col s12 l5"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{onClick:m,className:"col s12 l12 center"}," ",c.a.createElement("div",{className:"btn light_btn"},"View Order")," "),c.a.createElement("div",{onClick:m,className:"col s12 l12 center"}," ",c.a.createElement("div",{className:"btn dark_btn"},"Track Order")," "))))))}));var Ne=Object(f.d)(o.g)((function(){var e,t,a=null!==(e=Object(E.c)((function(e){return e.firebase.auth.uid})))&&void 0!==e?e:"default",r=null!==(t=Object(E.c)((function(e){return e.firestore.ordered.orders})))&&void 0!==t?t:[],l=Object(n.useState)([]),o=Object(u.a)(l,2),i=o[0],d=o[1];Object(n.useEffect)((function(){var e=r;e=G.a.orderBy(e,["createdAt"],["desc"]),d(e)}),[r]);var m=c.a.createElement("div",{className:"orders"},i&&0!=i.length?c.a.createElement("div",{className:"row"},i.map((function(e){return c.a.createElement("div",{key:Object(j.a)(),className:"col s12 m8 l8 offset-m2 offset-l2"},c.a.createElement(be,{order:e}))}))):c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s8 m6 l6 offset-s2 offset-m3 offset-l3"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("p",{className:"flow-text"},"No Orders placed yet"),c.a.createElement(s.b,{to:"/store/all"},c.a.createElement("div",{className:"btn dark_btn"},"Shop Now"))))))));return c.a.createElement("div",{className:"Orders Page"},c.a.createElement("h3",{className:"center primary-green-dark-text"},"Your ",c.a.createElement("span",{className:"heavy_text"},"Orders")),a&&"default"!=a?c.a.createElement(I,{waitBeforeShow:3e3},m):c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s8 m6 l6 offset-s2 offset-m3 offset-l3"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("p",{className:"flow-text"},"Please ",c.a.createElement("span",{className:"heavy_text primary-green-dark-text"},"SignIn")," To Continue")))))))}));var he=Object(f.d)(Object(E.b)((function(e){return{}}),(function(e){return{requestCancellationAction:function(t,a){e(function(e,t){return console.log("rqCan dispatch",e,t),function(a,n,c){c.getFirebase;var r=c.getFirestore;console.log("in in dispatch",e,t);var l=r(),s=n().firebase.auth.uid;console.log("authuid",s),l.collection("users").doc(s).collection("orders").doc(e).get().then((function(a){console.log("got snap",a);var n=a.data().tracking;return n.unshift({title:"Cancellation Requested",updateTime:new Date}),console.log("tracking",n),console.log(e,t),l.collection("users").doc(s).collection("orders").doc(e).update({tracking:n,status:"Cancellation Requested",cancellationMessage:t})})).then((function(){console.log("success added")})).catch((function(e){console.log("err=>",e.message)}))}}(t,a))}}})),o.g)((function(e){var t,a,r,l=Object(o.f)(),i=(null!==(t=e.match.params)&&void 0!==t?t:null).orderid,f=null!==(a=Object(E.c)((function(e){return e.firebase.auth.uid})))&&void 0!==a?a:"default",p=(null!==(r=Object(E.c)((function(e){return e.firestore.ordered.orders})))&&void 0!==r?r:[]).find((function(e){return i==e.id}));Object(n.useEffect)((function(){}),[p]),e.requestCancellationAction;var v=Object(n.useState)(""),b=Object(u.a)(v,2),N=b[0],h=b[1],y=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("requesting cancellation",i,N),e.next=3,W({method:"post",url:"/requestCancellation?userid=".concat(f,"&&orderid=").concat(i,"&&cancellationMessage=").concat(N.split(" ").join("+"))}).catch((function(){}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=p&&p.id?c.a.createElement(g.Modal,{actions:[c.a.createElement(n.Fragment,null,c.a.createElement(g.Button,{flat:!0,modal:"close",node:"button",waves:"green"},"Close"),c.a.createElement(g.Button,{flat:!0,modal:"close",node:"button",waves:"red",onClick:function(){y()}},"Request Cancellation"))],bottomSheet:!1,fixedFooter:!1,header:"Cancel Order",id:"Modal-0",open:!1,options:{dismissible:!0,endingTop:"40%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"20%"},trigger:c.a.createElement("div",{className:"btn red_btn"},"Cancel Order")},c.a.createElement("input",{onChange:function(e){h(e.target.value)},type:"text",placeholder:"Reason for cancellation",value:N})):null,w=p&&p.id&&p.cart?c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"Order"),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Order ID :"),c.a.createElement("th",null,p.id)),c.a.createElement("tr",null,c.a.createElement("th",null,"Cart Count :"),c.a.createElement("th",null,p.cartCount)),c.a.createElement("tr",null,c.a.createElement("th",null,"Order Placed :"),c.a.createElement("th",null,ve()(p.createdAt.toDate()).format("MMM Do YY, h:mm a"))))))):null,S=p&&p.id&&p.cart?c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"Payment Mode: ",c.a.createElement("span",{className:"heavy_text"},p.paymentType)),c.a.createElement("table",null,c.a.createElement("tbody",null,"card"==p.paymentType&&p.card?c.a.createElement(n.Fragment,null,c.a.createElement("tr",null,c.a.createElement("td",null,"Card Holder :"),c.a.createElement("th",null,p.card.cardHolderName)),c.a.createElement("tr",null,c.a.createElement("td",null,"Card Number :"),c.a.createElement("th",null,p.card.cardNo))):null)))):null,x=p&&p.id&&p.cart?c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"Address: "),p.address?c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Name :"),c.a.createElement("th",null,p.address.fullName)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Address :"),c.a.createElement("th",{className:"line-break"},p.address.addressLine+"\n"+p.address.city+", "+p.address.state)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Pincode :"),c.a.createElement("th",null,p.address.pincode)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Phone No. :"),c.a.createElement("th",null,p.address.phoneNo+" - "+p.address.country)))):null)):null,k=p&&p.id&&p.cart?c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"Order Status: ",c.a.createElement("span",{className:"heavy_text"},p.status)),p.tracking?c.a.createElement("table",null,c.a.createElement("tbody",null,p.tracking.map((function(e){return c.a.createElement("tr",{key:Object(j.a)()},c.a.createElement("td",{className:"line-break"},e.title),c.a.createElement("td",{className:"no-wrap"},ve()(e.updateTime.toDate()).format("MMM Do YY, h:mm a")))})))):null,["Out for Delivery","Delivered","Cancelled"].includes(p.status)?null:c.a.createElement(n.Fragment,null,["Cancellation Requested"].includes(p.status)?c.a.createElement("div",{className:"btn red_btn disabled"},"Request Cancellation"):c.a.createElement(n.Fragment,null,C)))):null,_=p&&p.id&&p.cart?c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"Cart Details:"),p.cart?c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap heavy_text"},"Product Name"),c.a.createElement("td",{className:"no-wrap heavy_text"},"Price"),c.a.createElement("td",{className:"no-wrap heavy_text"},"Cart Qty"),c.a.createElement("td",{className:"no-wrap heavy_text"},"SubTotal")),p.cart.map((function(e){return c.a.createElement("tr",{key:Object(j.a)()},c.a.createElement("td",{className:"text-link",onClick:function(){!function(e){var t="/product/"+e.productid+(0!=e.option?"?productOption="+e.option:"");l.push(t)}(e)}},e.productName),c.a.createElement("td",{className:"no-wrap"},O(e.productPrice)),c.a.createElement("td",{className:"no-wrap"},e.cartQty),c.a.createElement("td",{className:"no-wrap"},O(e.productPrice*e.cartQty)))})),c.a.createElement("tr",null,c.a.createElement("td",null),c.a.createElement("td",{className:"no-wrap"}),c.a.createElement("td",{className:"no-wrap heavy_text"},"Total: "),c.a.createElement("td",{className:"no-wrap heavy_text"},O(p.total))))):c.a.createElement("p",null,"no table"))):null,A=p&&p.id?c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m6"},w),c.a.createElement("div",{className:"col s12 m6"},S),c.a.createElement("div",{className:"col s12"}),c.a.createElement("div",{className:"col s12 m6"},x),c.a.createElement("div",{className:"col s12 m6"},k),c.a.createElement("div",{className:"col s12"}),c.a.createElement("div",{className:"col s12 m12"},_)):null;return c.a.createElement("div",{className:"Order Page"},c.a.createElement("div",{className:"container"},p?A:c.a.createElement(I,{waitBeforeShow:3e3},c.a.createElement(M,null,c.a.createElement("p",{className:"flow-text"},"Please verify your order id"),c.a.createElement(s.b,{to:"/account/orders",className:"btn dark_btn"},"Check Orders")))))})),ge=function(e){return console.log("addAddressAction"),function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=a().firebase.auth.uid;c.collection("users").doc(r).collection("addresses").add(Object(U.a)(Object(U.a)({},e),{},{createdAt:new Date})).then((function(){console.log("newAddress added")})).catch((function(e){console.log("err=>",e.message)}))}},Oe=function(e){return console.log("addAddressAction"),function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=a().firebase.auth.uid;c.collection("users").doc(r).collection("addresses").doc(e).delete().then((function(){console.log("address removed")})).catch((function(e){console.log("err=>",e.message)}))}},ye=function(e){return function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=a().firebase.auth.uid;c.collection("users").doc(r).collection("cards").add(Object(U.a)(Object(U.a)({},e),{},{createdAt:new Date})).then((function(){console.log("new card added")})).catch((function(e){console.log("err=>",e.message)}))}},je=function(e){return function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=a().firebase.auth.uid;c.collection("users").doc(r).collection("cards").doc(e).delete().then((function(){console.log("card removed")})).catch((function(e){console.log("err=>",e.message)}))}};var Ce=Object(f.d)(Object(E.b)((function(e){return{}}),(function(e){return{addCard:function(t){e(ye(t))},removeCard:function(t){e(je(t))},addAddress:function(t){e(ge(t))},removeAddress:function(t){e(Oe(t))}}})),o.g)((function(e){e.addCard,e.removeCard,e.addAddress,e.removeAddress;var t=Object(E.c)((function(e){return e.firebase.auth.uid}))||"default",a=Object(E.c)((function(e){return e.firebase.profile}))||{},r=Object(o.f)();Object(n.useEffect)((function(){t&&"default"!=t||setTimeout((function(){r.push("/login")}),2e3)}),[t]);var l=t&&"default"!=t?c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m8 l6 offset-m2 offset-l3"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"cart-title"}," ",c.a.createElement("h6",{className:"center primary-green-dark-text"},c.a.createElement("span",{className:"heavy_text"},"Account")," Details:")," "),c.a.createElement("div",{className:"card-content"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"First Name:"),c.a.createElement("th",null,a.firstName)),c.a.createElement("tr",null,c.a.createElement("td",null,"Last Name:"),c.a.createElement("th",null,a.lastName))))))),c.a.createElement("div",{className:"col s12 m6 l6"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"cart-title"}," ",c.a.createElement("h6",{className:"center primary-green-dark-text"},"Manage ",c.a.createElement("span",{className:"heavy_text"},"Addresses")," :")," "),c.a.createElement("div",{className:"card-content center"},c.a.createElement(s.b,{to:"/account/addresses"},c.a.createElement("div",{className:"btn dark_btn"},"Manage Addresses"))))),c.a.createElement("div",{className:"col s12 m6 l6"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"cart-title"}," ",c.a.createElement("h6",{className:"center primary-green-dark-text"},"Manage ",c.a.createElement("span",{className:"heavy_text"},"Orders")," :")," "),c.a.createElement("div",{className:"card-content center"},c.a.createElement(s.b,{to:"/account/orders"},c.a.createElement("div",{className:"btn dark_btn"},"Manage Orders"))))))):null;return c.a.createElement("div",{className:"Account Page"},c.a.createElement("div",{className:"container"},t&&"default"!=t?c.a.createElement(I,{waitBeforeShow:3e3},c.a.createElement(n.Fragment,null,l)):c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m6 l6 offset-m2 offset-l2"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content center"},c.a.createElement("h6",null,"Please ",c.a.createElement("span",{className:"heavy_text primary-green-dark-text"},"SignIn")," to Continue")))))))}));var we=Object(f.d)(Object(E.b)((function(e){return{}}),(function(e){return{addCard:function(t){e(ye(t))},removeCard:function(t){e(je(t))},addAddress:function(t){e(ge(t))},removeAddress:function(t){e(Oe(t))}}})),o.g)((function(e){e.addCard,e.removeCard;var t,a=e.addAddress,r=e.removeAddress,l=Object(E.c)((function(e){return e.firebase.auth.uid}))||"default",s=(Object(E.c)((function(e){return e.firebase.profile})),Object(o.f)());Object(n.useEffect)((function(){l&&"default"!=l||setTimeout((function(){s.push("/login")}),2e3)}),[l]),Object(p.useFirestoreConnect)([{collection:"users",doc:l,subcollections:[{collection:"addresses"}],storeAs:"addresses"}]);var i=null!==(t=Object(E.c)((function(e){return e.firestore.ordered.addresses})))&&void 0!==t?t:[],d={fullName:"",addressLine:"",city:"",state:"",country:"",pincode:"",phoneNo:""},m=Object(n.useState)(d),f=Object(u.a)(m,2),v=f[0],b=f[1],N=c.a.createElement(g.Modal,{actions:[c.a.createElement(g.Button,{flat:!0,modal:"close",node:"button",waves:"red"},"Close"),c.a.createElement(g.Button,{onClick:function(){a(v),b(d)},flat:!0,modal:"close",node:"button",waves:"green"},"Add Address")],bottomSheet:!1,fixedFooter:!0,header:"Add a new Address",id:"addAddressModal",open:!1,options:{dismissible:!0,endingTop:"16%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"55%"},trigger:c.a.createElement("div",{className:"btn light_btn"}," ",c.a.createElement("i",{className:"material-icons"},"add")," ",c.a.createElement("span",null,"Add Address")," ")},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("i",{className:"material-icons prefix"},"account_circle"),c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{fullName:e.target.value}))},value:v.fullName,id:"fullName-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"fullName-addAddress"},"Full Name")),c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("i",{className:"material-icons prefix"},"location_city"),c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{addressLine:e.target.value}))},value:v.addressLine,id:"addressLine-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"addressLine-addAddress"},"Address Line")),c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("i",{className:"material-icons prefix"},"location_on"),c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{city:e.target.value}))},value:v.city,id:"city-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"city-addAddress"},"City")),c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{state:e.target.value}))},value:v.state,id:"state-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"state-addAddress"},"State")),c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{country:e.target.value}))},value:v.country,id:"country-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"country-addAddress"},"Country")),c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{pincode:e.target.value}))},value:v.pincode,id:"pincode-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"pincode-addAddress"},"Pincode")),c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("i",{className:"material-icons prefix"},"local_phone"),c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{phoneNo:e.target.value}))},value:v.phoneNo,id:"phoneNo-addAddress",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"phoneNo-addAddress"},"Phone Number")))),h=l&&"default"!=l?c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m8 offset-m2"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"Wanna add ",c.a.createElement("span",{className:"heavy_text primary-green-dark-text"},"more addresses ?")),c.a.createElement("div",{className:"center"}," ",N," ")))),i&&i.length>0?c.a.createElement(n.Fragment,null,i.map((function(e,t){return c.a.createElement(n.Fragment,{key:Object(j.a)()},c.a.createElement("div",{className:"col s12 m12 l6"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Name :"),c.a.createElement("th",null,e.fullName)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"AddressLine :"),c.a.createElement("th",null,e.addressLine)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"City :"),c.a.createElement("th",null,e.city)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"State :"),c.a.createElement("th",null,e.state)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Country :"),c.a.createElement("th",null,e.country)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Pincode :"),c.a.createElement("th",null,e.pincode)))),c.a.createElement("div",null,c.a.createElement("div",{className:"right"},c.a.createElement(g.Button,{className:"red",floating:!0,icon:c.a.createElement(g.Icon,null,"delete"),large:!0,node:"button",waves:"light",onClick:function(){var t;t=e.id,r(t)}})))))),(t+1)%2==0?c.a.createElement("div",{className:"col s12"}):null)}))):c.a.createElement("div",{className:"col s12 m8 l6 offset-m2 offset-l4"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"No Addresses found"),c.a.createElement("div",{className:"center"},N)))))):null;return c.a.createElement("div",{className:"AccountAddresses Page"},c.a.createElement("div",{className:"container"},l&&"default"!=l?c.a.createElement(I,{waitBeforeShow:3e3},c.a.createElement(n.Fragment,null,h)):c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m6 l6 offset-m2 offset-l2"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content center"},c.a.createElement("h6",null,"Please ",c.a.createElement("span",{className:"heavy_text primary-green-dark-text"},"SignIn")," to Continue")))))))}));Object(f.d)(Object(E.b)((function(e){return{}}),(function(e){return{addCard:function(t){e(ye(t))},removeCard:function(t){e(je(t))},addAddress:function(t){e(ge(t))},removeAddress:function(t){e(Oe(t))}}})),o.g)((function(e){var t,a=e.addCard,r=e.removeCard,l=(e.addAddress,e.removeAddress,Object(E.c)((function(e){return e.firebase.auth.uid}))||"default"),s=(Object(E.c)((function(e){return e.firebase.profile})),Object(o.f)());Object(n.useEffect)((function(){l&&"default"!=l||setTimeout((function(){s.push("/login")}),2e3)}),[l]),Object(p.useFirestoreConnect)([{collection:"users",doc:l,subcollections:[{collection:"cards"}],storeAs:"cards"}]);var i=null!==(t=Object(E.c)((function(e){return e.firestore.ordered.cards})))&&void 0!==t?t:[],d={cardHolderName:"",cardNo:"",cardExpMM:"",cardExpYY:""},m=Object(n.useState)(d),f=Object(u.a)(m,2),v=f[0],b=f[1],N=c.a.createElement(g.Modal,{actions:[c.a.createElement(g.Button,{flat:!0,modal:"close",node:"button",waves:"red"},"Close"),c.a.createElement(g.Button,{onClick:function(){!function(e){a(e),b(d)}(v)},flat:!0,modal:"close",node:"button",waves:"green"},"Add Card")],bottomSheet:!1,fixedFooter:!0,header:"Add a new Card",id:"addAddressModal",open:!1,options:{dismissible:!0,endingTop:"16%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"55%"},trigger:c.a.createElement("div",{className:"btn light_btn"}," ",c.a.createElement("i",{className:"material-icons"},"add")," ",c.a.createElement("span",null,"Add Card")," ")},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("i",{className:"material-icons prefix"},"account_circle"),c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{cardHolderName:e.target.value}))},value:v.cardHolderName,id:"cardHolderName-addCard",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"cardHolder-addCard"},"Full Name")),c.a.createElement("div",{className:"input-field col s8"},c.a.createElement("i",{className:"material-icons prefix"},"payment"),c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{cardNo:e.target.value}))},value:v.cardNo,id:"cardNo-addCard",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"cardNo-addCard"},"Card Line")),c.a.createElement("div",{className:"input-field col s2"},c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{cardExpMM:e.target.value}))},value:v.cardExpMM,id:"cardExpMM-addCard",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"cardExpMM-addCard"},"MM")),c.a.createElement("div",{className:"input-field col s2"},c.a.createElement("input",{onChange:function(e){b(Object(U.a)(Object(U.a)({},v),{},{cardExpYY:e.target.value}))},value:v.cardExpYY,id:"cardExpYY-addCard",type:"text",required:!0}),c.a.createElement("label",{htmlFor:"cardExpYY-addCard"},"YY")))),h=l&&"default"!=l?c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"s12"},c.a.createElement("h5",{className:"center heavy_text primary-green-dark-text"}," ",c.a.createElement(g.Icon,null,"payments")," Credit/Debit Cards")),c.a.createElement("div",{className:"col s12 m8 offset-m2"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"Wanna add ",c.a.createElement("span",{className:"heavy_text primary-green-dark-text"},"more cards ?")),c.a.createElement("div",{className:"center"}," ",N," ")))),i&&i.length>0?c.a.createElement(n.Fragment,null,i.map((function(e,t){return c.a.createElement(n.Fragment,{key:Object(j.a)()},c.a.createElement("div",{className:"col s12 m12 l6"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Card Holder :"),c.a.createElement("th",null,e.cardHolderName)),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Card Number :"),c.a.createElement("th",null,"XXXX XXXX XXXX "+e.cardNo.slice(12))),c.a.createElement("tr",null,c.a.createElement("td",{className:"no-wrap"},"Card Expiry :"),c.a.createElement("th",null,e.cardExpMM+"/"+e.cardExpYY)))),c.a.createElement("div",null,c.a.createElement("div",{className:"right"},c.a.createElement(g.Button,{className:"red",floating:!0,icon:c.a.createElement(g.Icon,null,"delete"),large:!0,node:"button",waves:"light",onClick:function(){var t;t=e.id,r(t)}})))))),(t+1)%2==0?c.a.createElement("div",{className:"col s12"}):null)}))):c.a.createElement("div",{className:"col s12 m8 l6 offset-m2 offset-l4"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("h6",{className:"center"},"No Cards found"),c.a.createElement("div",{className:"center"},N))))):null,O=l&&"default"!=l?c.a.createElement(n.Fragment,null,c.a.createElement(g.Collapsible,{accordion:!0},c.a.createElement(g.CollapsibleItem,{expanded:!1,header:"Debit/Credit Cards",icon:c.a.createElement(g.Icon,null,"payments"),node:"div"},h),c.a.createElement(g.CollapsibleItem,{expanded:!1,header:"PayPal",icon:c.a.createElement(g.Icon,null,"place"),node:"div"},"Paypal!!! COMING SOON!"),c.a.createElement(g.CollapsibleItem,{expanded:!1,header:"Paytm",icon:c.a.createElement(g.Icon,null,"place"),node:"div"},"Paytm!!! COMING SOON!"),c.a.createElement(g.CollapsibleItem,{expanded:!1,header:"CryptoCurrencies",icon:c.a.createElement(g.Icon,null,"whatshot"),node:"div"},"CryptoCurrencies!! Comming Soon !!"))):null;return c.a.createElement("div",{className:"AccountPayments Page"},c.a.createElement("div",{className:"container"},l&&"default"!=l?c.a.createElement(I,{waitBeforeShow:3e3},c.a.createElement(n.Fragment,null,O)):c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m6 l6 offset-m2 offset-l2"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content center"},c.a.createElement("h6",null,"Please ",c.a.createElement("span",{className:"heavy_text primary-green-dark-text"},"SignIn")," to Continue")))))))}));var Se=a(318),xe=a.n(Se);var ke=function(){return c.a.createElement("div",{className:"Err404 Page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m8 l6 offset-m2 offset-l3"},c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:xe.a,alt:""})),c.a.createElement("h4",{className:"center head"},"Err!! Page Not Found")))))))};var _e=Object(f.d)(o.g)((function(e){var t=Object(E.c)((function(e){var t;return null!==(t=e.firestore.ordered.categories)&&void 0!==t?t:[]})),a=function(e,t){return c.a.createElement("div",{key:Object(j.a)(),className:"footer-btn-container"},c.a.createElement(s.b,{className:"btn",exact:!0,to:e},t))};return c.a.createElement("div",{className:"AppFooter"},c.a.createElement("div",{className:"footer-top primary-green-light-bg"},c.a.createElement("div",{className:"logo-container"},c.a.createElement("img",{src:F.a})),c.a.createElement("div",{className:"row-flex-center flex-wrap"},a("/","Home"),a("/store","Store"),a("/cart","Cart")),c.a.createElement("div",{className:"row-flex-center flex-wrap"},t&&G.a.orderBy(t,["title"],["asc"]).map((function(e){return a("/store/".concat(e.urlid),e.title)})))),c.a.createElement("div",{className:"footer-bottom primary-green-dark-bg"},c.a.createElement("h4",{className:"center white-text"},c.a.createElement("span",{className:"light_text"},"Powered By")," ",c.a.createElement("a",{target:"_blank",href:"https://digizup.com",className:"white-text"},"Digizup"),c.a.createElement("sup",null,c.a.createElement("span",{className:"light_text"},"\xa9 2020")))))})),Ae=a(319);Object(f.d)(o.g)((function(){var e=Object(o.f)(),t=Object(X.useStripe)(),a=Object(X.useElements)(),r=Object(n.useState)(null),l=Object(u.a)(r,2),s=(l[0],l[1]),i=Object(n.useState)(null),E=Object(u.a)(i,2),f=E[0],p=E[1],v=Object(n.useState)(null),b=Object(u.a)(v,2),N=b[0],h=b[1],g=Object(n.useState)(null),O=Object(u.a)(g,2),y=O[0],j=O[1],C=Object(n.useState)(!0),w=Object(u.a)(C,2),S=w[0],x=w[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({method:"post",url:"/payments/create?total=".concat(0)});case 2:t=e.sent,x(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[0]);var k=function(){var n=Object(m.a)(d.a.mark((function n(c){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),console.log("submit"),h(!0),n.next=5,t.confirmCardPayment(S,{payment_method:{card:a.getElement(X.CardElement),billing_details:{name:"Danish Ansari"}}}).then((function(t){t.paymentIntent;j(!0),s(null),h(!1),e.replace("/account/orders")}));case 5:n.sent;case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return c.a.createElement("div",{className:"Payment Page"},c.a.createElement("div",{className:"container"},c.a.createElement("h4",{className:"center head"},"Payment"),c.a.createElement("div",{className:"card round-card"},c.a.createElement("div",{className:"card-content center"},c.a.createElement("form",{onSubmit:k},c.a.createElement(X.CardElement,{onChange:function(e){p(e.empty),s(e.error?e.error.message:"")}}),c.a.createElement("button",{className:"btn dark_btn",disabled:N||f||y},c.a.createElement("span",null,N?"Procesing":"Pay Now")))))))}));var Fe=Object(Ae.a)("pk_test_51HR0lzK03SbZNRhEPy0jM1O5DL7iDBBkTQko9PQFwOFn9sdhKeZ2KYEGy1gtfLnGKZ6nDN4htp0rhaSTLBe3BDQv00MKU66mjj");var Te=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(s.a,null,c.a.createElement(fe,null,c.a.createElement(se,null),c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/about"}," ",c.a.createElement(L,null)," "),c.a.createElement(o.a,{exact:!0,path:"/store"}," ",c.a.createElement(ie,null)," "),c.a.createElement(o.a,{exact:!0,path:"/store/:category"}," ",c.a.createElement(R,null)," "),c.a.createElement(o.a,{exact:!0,path:"/cart"}," ",c.a.createElement(q,null)," "),c.a.createElement(o.a,{exact:!0,path:"/checkout"},c.a.createElement(X.Elements,{stripe:Fe},c.a.createElement(K,null))),c.a.createElement(o.a,{exact:!0,path:"/login"}," ",c.a.createElement(de,null)," "),c.a.createElement(o.a,{exact:!0,path:"/signup"}," ",c.a.createElement(me,null)," "),c.a.createElement(o.a,{exact:!0,path:"/product/:productid"}," ",c.a.createElement(Ee,null)," "),c.a.createElement(o.a,{exact:!0,path:"/account"}," ",c.a.createElement(Ce,null)," "),c.a.createElement(o.a,{exact:!0,path:"/account/orders"}," ",c.a.createElement(Ne,null)," "),c.a.createElement(o.a,{exact:!0,path:"/account/order/:orderid"}," ",c.a.createElement(he,null)," "),c.a.createElement(o.a,{exact:!0,path:"/account/addresses"}," ",c.a.createElement(we,null)," "),c.a.createElement(o.a,{exact:!0,path:"/"}," ",c.a.createElement(D,null)," "),c.a.createElement(o.a,{component:ke})),c.a.createElement(_e,null))))},Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Me=a(82),Re={authMessage:null,authError:null},De={searchTerm:null,searchResults:null,searchError:null,searchMessage:null},Le={cartCount:0,cartMessage:null},Ue=Object(f.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return{authMessage:t.type,authError:null};case"LOGIN_ERROR":return{authMessage:t.type,authError:t.err};case"LOGOUT_SUCCESS":return{authMessage:t.type,authError:null};case"LOGOUT_ERROR":return{authMessage:t.type,authError:t.err};case"SIGNUP_SUCCESS":return{authMessage:t.type,authError:null};case"SIGNUP_ERROR":return{authMessage:t.type,authError:t.err};case"AUTH_MESSAGE_RESET":return Re;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_IN_PROGRESS":return{searchTerm:t.searchTerm,searchResults:null,searchError:null,searchMessage:t.type};case"SEARCH_RESULTS_FETCHED":return{searchTerm:t.searchTerm,searchResults:t.searchResults,searchError:null,searchMessage:t.type};case"SEARCH_RESULTS_NOT_FOUND":return{searchTerm:t.searchTerm,searchResults:null,searchError:t.err,searchMessage:t.type};case"SEARCH_RESET":return Object(U.a)(Object(U.a)({},De),{},{searchMessage:t.type});default:return e}},cartUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_UPDATING":case"CART_UPDATED":case"CART_ADDED":return Object(U.a)(Object(U.a)({},e),{},{cartMessage:t.type});case"CART_MESSAGE_RESET":return Object(U.a)(Object(U.a)({},e),{},{cartMessage:null});default:return e}},firebase:p.firebaseReducer,firestore:Me.firestoreReducer}),He=a(320),Be=Object(f.e)(Ue,Object(f.d)(Object(f.a)(He.a.withExtraArgument({getFirebase:p.getFirebase,getFirestore:Me.getFirestore})),Object(Me.reduxFirestore)(h))),Ge={firebase:h,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:Be.dispatch,createFirestoreInstance:Me.createFirestoreInstance},qe=function(e){var t=e.children,a=Object(E.c)((function(e){return e.firebase.auth}));return Object(p.isLoaded)(a)?t:c.a.createElement(P,null)};l.a.render(c.a.createElement(E.a,{store:Be},c.a.createElement(p.ReactReduxFirebaseProvider,Ge,c.a.createElement(qe,null,c.a.createElement(Te,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ie?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Pe(t,e)}))}}()},311:function(e,t,a){e.exports=a.p+"static/media/digi-logo-small.9515b42b.png"},318:function(e,t,a){e.exports=a.p+"static/media/page_not_found.bdc71293.png"},324:function(e,t,a){e.exports=a(1619)},328:function(e,t,a){},81:function(e,t,a){e.exports=a.p+"static/media/digi-logo.9f0db891.jpg"}},[[324,1,2]]]);
//# sourceMappingURL=main.d470fa9b.chunk.js.map